#!/usr/bin/env bash

# kubectl-prompt
autoload -U colors; colors
#TODO Apple chip
# set case for
#$ uname -m
#x86_64
source /usr/local/etc/zsh-kubectl-prompt/kubectl.zsh
function right_prompt() {
  local color="white"

  if [[ $ZSH_KUBECTL_PROMPT == *"blue"* ]]; then
    color=blue
  fi

  if [[ $ZSH_KUBECTL_PROMPT == *"green"* ]]; then
    color=green
  fi

  if [[ "$ZSH_KUBECTL_USER" =~ "admin" ]]; then
    color=red
  fi

  echo "%{$fg[$color]%}($ZSH_KUBECTL_PROMPT)%{$reset_color%}"
}
RPROMPT='$(right_prompt)'
